----

# CloudClearingAPI: Land Development Investment Scoring

This system analyzes regions across Indonesia to identify promising land development investment opportunities. By combining satellite imagery, infrastructure data, and market intelligence, it generates a comprehensive investment score (0-100), a confidence rating, and an executive-ready PDF report for each targeted region.

## ‚ú® Key Features

  * **üõ∞Ô∏è Satellite Change Detection:** Uses Google Earth Engine and Sentinel-2 satellite data to automatically detect land clearing, new construction, and urban expansion.
  * **üèóÔ∏è Infrastructure Analysis:** Queries OpenStreetMap in real-time to assess the quality and proximity of critical infrastructure like major roads, ports, airports, and railways.
  * **üìà Market Intelligence:** Integrates internal market data to evaluate land price trends, market liquidity, and speculation risk compared to established benchmarks like Jakarta and Bali.
  * **üìä Comprehensive Scoring:** A multi-layered algorithm that produces a single, actionable score with a clear BUY, WATCH, or PASS recommendation.
  * **üìÑ Automated PDF Reporting:** Generates detailed, multi-page reports for each region, complete with satellite imagery, charts, and a full breakdown of the score.

-----

## ‚öôÔ∏è How the Scoring Works

The final investment score is calculated using a core formula that balances on-the-ground development activity with crucial contextual factors.

**Final Score** = (Base Score) √ó (Infrastructure Multiplier) √ó (Market Multiplier) √ó (Confidence Multiplier)

### 1\. Base Development Score (0-40 Points)

This is the foundation of the score and is derived **entirely from satellite imagery analysis**. We compare satellite images from the last 7 days to the previous 7 days to detect changes on the ground.

  * **What We Look For:**
      * **Vegetation Loss (High Weight):** A decrease in the **NDVI** (Normalized Difference Vegetation Index) signals that forests or fields are being cleared. This is a strong leading indicator of new development.
      * **New Construction (Highest Weight):** An increase in the **NDBI** (Normalized Difference Built-up Index) indicates that new buildings or urban areas are appearing.
      * **Land Preparation (Medium Weight):** An increase in general brightness suggests bare earth is being exposed, often for grading and site preparation.
  * **Calculation:** The total area of detected changes is weighted based on the activity type (construction is weighted higher than land clearing) and normalized to a score out of 40. A region with significant, recent construction will receive the highest base scores.

### 2\. Infrastructure Multiplier (0.8x - 1.3x)

A high development score is meaningless without the infrastructure to support it. This multiplier adjusts the score based on the quality of the surrounding infrastructure, sourced from OpenStreetMap.

  * **Critical Fix (v2.3):** This component was recently overhauled to fix a critical bug that inflated all scores to 100. The new system uses **square root compression** and **strict scoring caps** to ensure a realistic and meaningful distribution of scores. Regions are now clearly differentiated.

The system calculates an internal infrastructure score (0-100) based on:

  * **Roads:** Number and type of major highways within a 25km radius.
  * **Ports & Airports:** Proximity to the nearest cargo ports and airports.
  * **Railways:** Total length of rail lines and number of stations nearby.
  * **Active Construction:** Number of ongoing construction projects logged in OSM.

This score is then converted into a tiered multiplier to create clear separation:

| Infrastructure Score | Tier | Multiplier | Interpretation |
| :--- | :--- | :--- | :--- |
| **90-100** | Excellent | **1.30x** | World-class infrastructure, major hub. |
| **75-89** | Very Good | **1.15x** | Strong logistical and transport links. |
| **60-74** | Good | **1.00x** | Adequate for standard development. |
| **40-59** | Fair | **0.90x** | Basic infrastructure, potential limitations. |
| **\< 40** | Poor | **0.80x** | Weak or missing infrastructure. |

### 3\. Market Multiplier (0.85x - 1.4x)

This multiplier provides market context, rewarding regions with strong economic fundamentals while penalizing stagnant or declining ones.

The score is based on internal price intelligence, comparing the target region to benchmarks. It assesses price appreciation trends, transaction volume (liquidity), and speculation risk.

| Annual Price Trend | Tier | Multiplier | Interpretation |
| :--- | :--- | :--- | :--- |
| **\> 15%** | Booming | **1.40x** | Exceptional, high-growth market. |
| **8-15%** | Strong | **1.20x** | Very healthy market with strong demand. |
| **2-8%** | Stable | **1.00x** | Steady, sustainable growth. |
| **0-2%** | Stagnant | **0.95x** | Slow growth, limited momentum. |
| **\< 0%** | Declining | **0.85x** | Market is contracting. |

### 4\. Confidence Score (40% - 95%)

Not all data is created equal. The confidence score reflects the quality, completeness, and recency of the data used in the analysis. A low confidence score will reduce the final investment score.

  * **How it's calculated:** It's a weighted average of the confidence in each data source.
      * **Satellite Data (50% weight):** Confidence is higher when there are many recent, cloud-free images.
      * **Infrastructure Data (30% weight):** Confidence is highest (85%) with live OSM data and lower (30-60%) if the system has to rely on regional fallbacks.
      * **Market Data (20% weight):** Confidence is higher for markets with recent, high-volume transaction data.

-----

## üìä System Output

The primary output is a multi-page PDF report that provides a comprehensive overview of each region.

  * **Page 1: Executive Summary:** Highlights the top investment opportunities and summary statistics.
  * **Region Detail Pages:** Each region gets its own detailed analysis, including:
    1.  **Final Recommendation:** A clear **‚úÖ BUY**, **‚ö†Ô∏è WATCH**, or **üî¥ PASS** rating.
    2.  **Score & Confidence:** The final score and the data confidence percentage.
    3.  **Score Breakdown Chart:** A visual breakdown of the base score and multipliers.
    4.  **Satellite Imagery:** A grid of 5 images showing True Color, NDVI, NDBI, and a Change Detection mask highlighting new development.
    5.  **Infrastructure Details:** A list of nearby highways, ports, airports, and active construction sites.
    6.  **Development Activity Analysis:** A breakdown of the detected activity (e.g., 60% Land Clearing, 40% Active Construction).
    7.  **Recommendation Rationale:** A brief explanation of the key strengths and risks that led to the recommendation.

-----

## üèóÔ∏è System Architecture

The system is orchestrated by a central Python script that coordinates the analysis across 29 regions in Java. It calls specialized modules for satellite analysis, infrastructure querying, and scoring before finally generating the PDF report.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    MONITORING ORCHESTRATOR     ‚îÇ
‚îÇ (run_weekly_java_monitor.py)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     CORRECTED SCORING SYSTEM   ‚îÇ
‚îÇ (src/core/corrected_scoring.py)‚îÇ
‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚îÇ              ‚îÇ
   ‚ñº              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ SATELLITE‚îÇ  ‚îÇINFRASTRUCTURE‚îÇ
‚îÇ ANALYSIS ‚îÇ  ‚îÇ   ANALYZER   ‚îÇ
‚îÇ (Google  ‚îÇ  ‚îÇ(OpenStreetMap‚îÇ
‚îÇ  Earth)  ‚îÇ  ‚îÇ Overpass API)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ              ‚îÇ
     ‚ñº              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      SCORING AGGREGATION       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     PDF REPORT GENERATOR       ‚îÇ
‚îÇ (src/core/pdf_report_generator.py) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
